<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/static/css/bootstrap.css">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <script src="/static/js/bootstrap.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.js"></script>
    <script src="/static/js/jquery-1.8.3.min.js"></script>
    <title>list</title>
    <style>
        img {
            width: 50%;
            height: 50%;
        }

        h4 {
            width: 90%;
            word-break: break-all;
            text-align: center;
        }

        .center {
            display: block;
            width: 160px;
            margin: 0 auto;
        }

        .hidden {
            display: none;
        }

        .thumbnail {
            margin-top: 20px;
        }
    </style>

    <script>
        var workdir = "./src/com.douban.movie/";

        function jsReadFiles(files) {
            console.log(files);
            if (files.length) {
                var file = files[0];
                var reader = new FileReader(); //new一个FileReader实例
                if (/text+/.test(file.type)) { //判断文件类型，是不是text类型
                    reader.onload = function () {
                        console.log(this.result);
                        var filelist = this.result.split("\n");
                        console.log(filelist);
                        for (var i = 0; i < filelist.length; i++) {
                            $(".hidden h4").html(filelist[i]);
                            $(".hidden img").attr("src", workdir+filelist[i]+".png");
                            var temp = $(".hidden").clone();
                            //temp.children("h4").html(filelist[i]);
                            temp.removeClass("hidden");
                            $(".row").append(temp);
                        }
                    }
                    reader.readAsText(file);
                }
            }
        }
    </script>
</head>


<body>

    <input type="file" onchange="jsReadFiles(this.files)" />
    <div class="row">
        <div class="col-sm-6 col-md-4 col-lg-2 hidden">
            <div class="thumbnail">
                <img src="" alt="...">
                <div class="caption">
                    <h4>LegacySubjectActivity_1275381426_-1580770333</h4>
                    <p>some description</p>
                    <p class="center">
                        <a href="#" class="btn btn-primary" role="button">Check</a>
                        <a href="#" class="btn btn-default" role="button">Deep link</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

</body>

</html>